"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[991],{3991:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var r,o,a,i,c,u,s,d,l,m,f,h,p,x=t(2791),b=t(9434),g=t(168),v=t(7691),C=v.ZP.div(r||(r=(0,g.Z)(["\n  width: 90vw;\n  padding: ","px;\n  margin-top: ","px;\n  background: ",";\n  border-radius: ",";\n  @media "," {\n    width: 80vw;\n  }\n  @media "," {\n    width: 768px;\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.radii.medium}),(function(n){return n.theme.media.tablet}),(function(n){return n.theme.media.desktop})),w=v.ZP.h2(o||(o=(0,g.Z)(["\n  font-size: ","px;\n  font-weight: ",";\n  text-align: center;\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.fontSizes.l}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[4]})),Z=t(885),j=t(5984),y=t(1830),k=t.n(y),z=v.ZP.form(a||(a=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  padding: ","px;\n  margin-bottom: ","px;\n  background: ",";\n  color: ",";\n  border-radius: ",";\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.darkGreen}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.radii.medium})),P=v.ZP.label(i||(i=(0,g.Z)(["\n  margin-bottom: ","px;\n  width: 85%;\n"])),(function(n){return n.theme.space[3]})),S=v.ZP.input.attrs((function(n){return{type:n.type}}))(c||(c=(0,g.Z)(["\n  width: 85%;\n  margin-bottom: ","px;\n  padding: 7px 5px;\n  font-size: ","px;\n  background: ",";\n  outline: none;\n  &::placeholder {\n    color: ",";\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.secondary})),L=v.ZP.button.attrs({type:"submit"})(u||(u=(0,g.Z)(["\n  width: 110px;\n  height: 35px;\n  background: linear-gradient(to right, #0a4918, #53725a);\n  color: ",";\n  border: ",";\n  border-color: ",";\n  border-radius: ","px;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n    box-shadow: 0px 0px 7px #fff;\n  }\n\n  ","\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.borders.bold}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.text}),(function(n){return n.disabled&&(0,v.iv)(s||(s=(0,g.Z)(["\n      background: ",";\n    "])),(function(n){return n.theme.colors.primary}))})),N=t(1567),_=function(){var n=(0,b.v9)((function(n){return n.contacts.items})),e=(0,b.v9)((function(n){return n.contacts.filter})),t=(0,b.v9)((function(n){return n.contacts.loader})),r=(0,b.v9)((function(n){return n.contacts.addLoader})),o=(0,b.v9)((function(n){return n.contacts.error})),a=(0,b.I0)();return{contacts:n,filter:e,loader:t,addLoader:r,error:o,getContacts:function(){a(N.mh.getContacts())},addContact:function(n){a(N.mh.addContact(n))},deleteContact:function(n){a(N.mh.deleteContact(n))},editContact:function(n){var e=n.id,t=n.name,r=n.number;a(N.mh.editContact({id:e,name:t,number:r}))},setFilter:function(n){a((0,N.M6)(n))}}},F=t(8191),A=t(184),B=function(){var n=(0,x.useState)(""),e=(0,Z.Z)(n,2),t=e[0],r=e[1],o=(0,x.useState)(""),a=(0,Z.Z)(o,2),i=a[0],c=a[1],u=(0,j.x0)(12),s=(0,j.x0)(12),d=_(),l=d.contacts,m=d.addLoader,f=d.addContact,h=function(n){var e=n.target,t=e.name,o=e.value;switch(t){case"name":r(o);break;case"number":c(o);break;default:return}},p=function(){r(""),c("")};return(0,A.jsxs)(z,{onSubmit:function(n){if(n.preventDefault(),l.find((function(n){return n.name.toLowerCase()===t.toLowerCase()})))return k().fire("Name ".concat(t," already exist")),void p();f({name:t,number:(0,F._)("+".concat(i)).getURI()}),p()},autoComplete:"off",children:[(0,A.jsx)(P,{htmlFor:u,children:"Name"}),(0,A.jsx)(S,{id:u,type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:h,placeholder:"full name"}),(0,A.jsx)(P,{htmlFor:s,children:"Number"}),(0,A.jsx)(S,{id:s,type:"tel",name:"number",value:i,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:h,placeholder:"tellephone number xxx-xx-xx"}),(0,A.jsxs)(L,{disabled:m,children:[" ",m?"Adding...":"Add contact"]})]})},D=v.ZP.li(d||(d=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: ","px;\n  font-weight: 500;\n  width: 100%;\n  &:not(:last-child) {\n    margin-bottom: ","px;\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]})),I=v.ZP.button.attrs({type:"button"})(l||(l=(0,g.Z)(["\n  width: 75px;\n  height: 25px;\n  background: linear-gradient(to right, #0a4918, #53725a);\n  color: ",";\n  border: 2px solid grey;\n  border-radius: ","px;\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    background: ",";\n    color: #13411d;\n    box-shadow: 0px 0px 7px #fff;\n  }\n\n  ","\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.colors.primary}),(function(n){return n.disabled&&(0,v.iv)(m||(m=(0,g.Z)(["\n      background: ",";\n    "])),(function(n){return n.theme.colors.primary}))})),q=t(3682),E=function(n){var e=n.id,t=n.name,r=n.number,o=(0,x.useState)(null),a=(0,Z.Z)(o,2),i=a[0],c=a[1],u=(0,x.useState)(t),s=(0,Z.Z)(u,2),d=s[0],l=s[1],m=(0,x.useState)(r),f=(0,Z.Z)(m,2),h=f[0],p=f[1],b=(0,x.useState)(!1),g=(0,Z.Z)(b,2),v=g[0],C=g[1],w=_(),j=w.contacts,y=w.loader,z=w.deleteContact,P=w.editContact,S=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"editedName":return l(r);case"editedNumber":return p(r);default:return}};return(0,A.jsxs)(D,{children:[v?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("input",{typeof:"text",name:"editedName",value:d,onChange:S}),(0,A.jsx)("input",{typeof:"text",name:"editedNumber",value:h,onChange:S})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("span",{children:[t,":"]}),(0,A.jsx)("span",{children:r})]}),(0,A.jsxs)(q.x,{children:[(0,A.jsx)(I,{onClick:function(){if(v){if(t===d&&r===h)return void C((function(n){return!n}));if(j.find((function(n){return n.name.toLowerCase()===d.toLowerCase()&&n.id!==e})))return void k().fire("Name ".concat(d," exist"));P({id:e,name:d,number:h})}C((function(n){return!n}))},children:v?"Save":"Edit"}),(0,A.jsx)(I,{disabled:i,onClick:function(){z(e),c(e)},children:y&&i?"Deleting...":"Delete"})]})]})},M=v.ZP.ul(f||(f=(0,g.Z)(["\n  padding: ","px;\n  background: ",";\n  border-radius: ",";\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.radii.normal})),G=function(n){var e=n.contacts;return(0,A.jsx)(M,{children:e.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,A.jsx)(E,{id:e,name:t,number:r},e)}))})},J=v.ZP.label(h||(h=(0,g.Z)(["\n        display: block;\n        font-size: ","px;\n        color: #14331B;\n        margin-bottom: ","px;\n"])),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.space[4]})),R=v.ZP.input.attrs({type:"text"})(p||(p=(0,g.Z)(["\n    width: 200px;\n    padding: ","px;\n    margin-left: ","px;\n    font-size: ","px;\n    background: ",";\n    outline: none;\n    border: 2px solid #14331B;\n    border-radius: 5px;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.fontSizes.xs}),(function(n){return n.theme.colors.primary})),T=function(n){var e=n.value,t=n.onChange;return(0,A.jsxs)(J,{children:["Filter by name:",(0,A.jsx)(R,{name:"filter",value:e,onChange:t})]})},U=t(661),W=function(){var n=(0,b.I0)(),e=_(),t=e.contacts,r=e.filter,o=e.loader,a=e.setFilter;(0,x.useEffect)((function(){n(N.mh.getContacts())}),[n]);var i=function(){if(0!==t.length&&"string"!==typeof t){var n=r.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))}return[]}();return(0,A.jsx)(q.x,{display:"flex",justifyContent:"center",children:(0,A.jsxs)(C,{children:[(0,A.jsx)(w,{children:"Phonebook"}),(0,A.jsx)(B,{}),(0,A.jsx)(w,{children:"Contacts"}),(0,A.jsxs)(q.x,{display:"flex",justifyContent:"space-between",children:[(0,A.jsx)(T,{value:r,onChange:function(n){var e=n.target.value;a(e)}}),(0,A.jsxs)("h3",{children:["Total contacts: ",i.length]})]}),o?U.Z.threeCircles:(0,A.jsx)(G,{contacts:i})]})})}}}]);
//# sourceMappingURL=991.73f1017e.chunk.js.map